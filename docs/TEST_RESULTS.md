# Отчет о результатах тестирования (Test Results)
## Проект "Finance Manager"

Этот документ содержит результаты выполнения тестовых сценариев, описанных в Тест-плане.

**Дата тестирования:** `28.10.2025`  
**Тестировщик:** `Макушинская Д.В`

---

### Результаты выполнения тестовых сценариев

| ID | Назначение (Описание) | Сценарий (Действия) | Ожидаемый результат | Фактический результат | Оценка (Pass/Fail) |
| :--- | :--- | :--- | :--- | :--- | :--- |
| **TC-CLIENT-01** | **(Позитивный)** Создание нового клиента | 1. Отправить POST-запрос на `/clients` с валидным JSON (`username`, `email`, `password`). | 1. Ответ: `HTTP 200 OK`. <br>2. Тело ответа содержит данные созданного клиента с `id`. | | |
| **TC-CLIENT-02** | **(Негативный)** Создание клиента с существующим email | 1. Создать клиента (см. TC-CLIENT-01). <br>2. Отправить повторный POST-запрос на `/clients` с тем же `email`. | 1. Ответ: `HTTP 409 Conflict` или `HTTP 400 Bad Request`. <br>2. Тело ответа содержит сообщение об ошибке. | | |
| **TC-ACC-01** | **(Позитивный)** Создание нового счета для клиента | 1. Создать клиента, получить его `id`. <br>2. Отправить POST-запрос на `/accounts` с JSON, содержащим `name`, `balance` и `clientId`. | 1. Ответ: `HTTP 200 OK`. <br>2. Тело ответа содержит данные созданного счета. | | |
| **TC-TR-01** | **(Позитивный)** Создание доходной транзакции | 1. Создать клиента и счет для него. <br>2. Отправить POST-запрос на `/transactions` с JSON, содержащим `accountId`, `categoryId` и положительную `amount`. | 1. Ответ: `HTTP 200 OK`. <br>2. Баланс соответствующего счета в БД увеличился на сумму `amount`. | | |
| **TC-TR-02** | **(Позитивный)** Создание расходной транзакции в рамках бюджета | 1. Создать клиента, счет, категорию, бюджет с лимитом 1000. <br>2. Отправить POST-запрос на `/transactions` с `amount` = -500. | 1. Ответ: `HTTP 200 OK`. <br>2. Баланс счета уменьшился на 500. <br>3. `availableSum` бюджета уменьшился на 500. | | |
| **TC-TR-03** | **(Негативный)** Создание расходной транзакции, превышающей лимит бюджета | 1. Создать клиента, счет, категорию, бюджет с лимитом 1000 и `availableSum` = 400. <br>2. Отправить POST-запрос на `/transactions` с `amount` = -500. | 1. Ответ: `HTTP 400 Bad Request`. <br>2. Тело ответа содержит сообщение об ошибке "Budget limit exceeded". <br>3. Баланс счета и остаток бюджета НЕ изменились. | | |
| **TC-TR-04** | **(Негативный)** Создание расходной транзакции при недостаточном балансе счета | 1. Создать клиента и счет с балансом 300. <br>2. Отправить POST-запрос на `/transactions` с `amount` = -500. | 1. Ответ: `HTTP 400 Bad Request`. <br>2. Тело ответа содержит сообщение "Insufficient funds". | | |
| **TC-GOAL-01** | **(Позитивный)** Пополнение финансовой цели | 1. Создать клиента, счет, категорию, цель. <br>2. Отправить POST-запрос на `/goals/{id}/add-funds` с `amount` = 100. | 1. Ответ: `HTTP 200 OK`. <br>2. `currentAmount` цели увеличился на 100. <br>3. Баланс счета уменьшился на 100. <br>4. В БД создана соответствующая расходная транзакция. | | |
| **TC-SEC-01** | **(Негативный - Ожидаемый Fail)** Получение чужих данных | 1. Создать двух клиентов: Client A и Client B. <br>2. Создать счет для Client A. <br>3. Отправить GET-запрос на `/accounts/filter?clientId={ID клиента B}`. | **Ожидаемый результат (при правильной реализации):** Ответ `HTTP 403 Forbidden` или пустой список. <br>**Проверяемый результат (на текущем коде):** Ответ `HTTP 200 OK` со списком счетов Client B. | | **Fail** (ожидаемо) |

### Общий вывод по результатам тестирования

В ходе тестирования REST API была подтверждена корректная работа основных бизнес-функций, заложенных в SRS. Позитивные и негативные тестовые сценарии (TC-TR-01, TC-TR-02, TC-TR-03, TC-TR-04) показали, что CRUD-операции и ключевая бизнес-логика, такая как обновление балансов счетов и проверка лимитов бюджетов, реализованы верно. Приложение корректно обрабатывает ошибки, связанные с невалидными данными.